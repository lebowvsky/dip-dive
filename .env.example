# =====================================
# DIP-DIVE Stack Environment Variables
# =====================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# =====================================
# Docker Configuration
# =====================================
# Target environment for Docker build (development|production|testing)
DOCKER_TARGET=production
NODE_ENV=production

# =====================================
# Application Ports
# =====================================
# Host ports for service access
FRONTEND_PORT=3000
BACKEND_PORT=3001
MYSQL_PORT=3306

# =====================================
# MySQL Database Configuration
# =====================================
# Database connection settings
MYSQL_ROOT_PASSWORD=your_super_secure_root_password_here
MYSQL_DATABASE=dip_dive_db
MYSQL_USER=dip_dive_user
MYSQL_PASSWORD=your_secure_database_password_here

# MySQL performance tuning (optional)
MYSQL_INNODB_BUFFER_POOL_SIZE=256M
MYSQL_MAX_CONNECTIONS=100

# =====================================
# Backend API Configuration
# =====================================
# NestJS application settings
DATABASE_HOST=mysql
DATABASE_PORT=3306
DATABASE_NAME=dip_dive_db
DATABASE_USER=dip_dive_user
DATABASE_PASSWORD=your_secure_database_password_here

# Security settings
JWT_SECRET=your_super_secure_jwt_secret_key_here_at_least_32_chars
JWT_EXPIRES_IN=3600
API_KEY=your_api_key_here

# CORS and frontend URL
FRONTEND_URL=http://localhost:3000

# Logging configuration
LOG_LEVEL=info

# =====================================
# Frontend Configuration
# =====================================
# Vue.js application settings
VUE_APP_API_URL=http://localhost:3001

# Build-time environment variables
VUE_APP_ENV=production
VUE_APP_VERSION=1.0.0

# =====================================
# Development Settings
# =====================================
# Hot reload and development features
CHOKIDAR_USEPOLLING=true
VITE_HMR_PORT=24678

# =====================================
# Production Settings
# =====================================
# Performance and security
COMPOSE_HTTP_TIMEOUT=300
DOCKER_CLIENT_TIMEOUT=300

# =====================================
# Backup Configuration
# =====================================
# MySQL backup settings
BACKUP_RETENTION_DAYS=7
BACKUP_DIRECTORY=./backups
BACKUP_SCHEDULE="0 2 * * *"

# =====================================
# Monitoring & Logging
# =====================================
# Application monitoring
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Log rotation
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# =====================================
# SSL/TLS Configuration (Optional)
# =====================================
# Uncomment and configure for production with SSL
# SSL_CERT_PATH=./certs/cert.pem
# SSL_KEY_PATH=./certs/key.pem
# HTTPS_PORT=443

# =====================================
# Email Configuration (Optional)
# =====================================
# SMTP settings for notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# =====================================
# Redis Configuration (Optional)
# =====================================
# Uncomment if adding Redis for caching
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_PASSWORD=your_redis_password_here
# REDIS_DB=0

# =====================================
# External Services (Optional)
# =====================================
# Third-party integrations
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=your-bucket-name

# =====================================
# Security Headers (Production)
# =====================================
# Security configuration
SECURITY_HELMET_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =====================================
# Development Overrides
# =====================================
# These will be overridden by docker-compose.override.yml in dev mode
# DEV_FRONTEND_PORT=5173
# DEV_BACKEND_PORT=3001
# DEV_DATABASE_PORT=3307